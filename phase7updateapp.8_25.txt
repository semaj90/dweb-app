add to copilot.md claude.md gemini.md  Directory Structure
less
Copy
Edit
src/
‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ui/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Button.svelte      // from melt-ui/bits-ui
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Card.svelte        // prop merging support
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Dialog.svelte
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts               // ‚Üê .ts barrel store
‚îÇ   ‚îú‚îÄ‚îÄ cases/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ store.ts               // ‚Üê JSON object store, import anywhere
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ schema.ts              // evidence, persons of interest, etc.
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ai-commands.ts         // future: auto-update logic
‚îÇ   ‚îî‚îÄ‚îÄ utils/
‚îÇ       ‚îî‚îÄ‚îÄ stream.ts              // chunking, embedded streams
‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îú‚îÄ‚îÄ +page.svelte               // UI layer
‚îÇ   ‚îú‚îÄ‚îÄ cases/[id]/+page.svelte    // dynamic case view
‚îÇ   ‚îî‚îÄ‚îÄ api/
‚îÇ       ‚îú‚îÄ‚îÄ saveCase.ts            // real-time save (to Loki.js/Postgres)
‚îÇ       ‚îú‚îÄ‚îÄ embed.ts               // RAG embedding route
üß† Barrel Store Example (lib/components/index.ts)
ts
Copy
Edit
export { default as Button } from './ui/Button.svelte';
export { default as Card } from './ui/Card.svelte';
export { default as Dialog } from './ui/Dialog.svelte';
// Add more components here from melt-ui or bits-ui v2
üóÇÔ∏è Case Store Example (lib/cases/store.ts)
ts
Copy
Edit
import { writable } from 'svelte/store';

export const cases = writable<Record<string, Case>>({});
export const currentCase = writable<Case | null>(null);

export interface Case {
    id: string;
    title: string;
    evidence: Evidence[];
    personsOfInterest: Person[];
    notes: string;
    status: 'open' | 'in-trial' | 'closed';
}

export interface Evidence {
    id: string;
    type: 'image' | 'pdf' | 'text';
    content: string;
    label: string;
    isKeyEvidence?: boolean;
}

export interface Person {
    id: string;
    name: string;
    role: 'suspect' | 'witness' | 'officer';
    profile: string;
}
‚úÖ Part 2: 7PhaseTodoList.md
md
Copy
Edit
# üöÄ 7 Phase AI-Enhanced Prosecutor App Roadmap

### ‚úÖ Phase 1: UI Foundation
- [x] SvelteKit SSR + melt-ui + bits-ui v2 (prop merging)
- [x] Barrel component exports (.ts)
- [x] Store management with `writable` Svelte store
- [x] Case ‚Üí Evidence ‚Üí Persons of Interest hierarchy

---

### ‚úÖ Phase 2: Case JSON Object Store + Real-Time Updates
- [x] Importable `cases.store.ts` anywhere
- [x] File uploads + notes generation
- [x] Real-time saving with Loki.js
- [x] Fuse.js fuzzy search
- [ ] Embed tagging and relationships (PGVector, Redis)
- [ ] User commands and hotkeys

---

### üöß Phase 3: Backend Intelligence + Event Worker Layer
- [ ] Node.js service workers
- [ ] Redis + bullmq#(RabbitMQ) event bus
- [ ] PostgreSQL + Qdrant + PGVector hybrid store
- [ ] Streaming chunked saves
- [ ] Embed chain + event replay

---

### üîÆ Phase 4: AI Semantic Understanding
- [ ] RAG (LangChain/Pinecone or pgvector)
- [ ] Self-prompting LLM command parser
- [ ] Neo4j for legal graphs and relationships
- [ ] Auto-summarizer + next-action suggester

---

### üß† Phase 5: Legal Recommendation Engine
- [ ] Recommendation scoring based on past cases
- [ ] Predictive guilt model (non-binding)
- [ ] Structured legal argument generation (AI ‚â† lawyer)

---

### üïπ Phase 6: UI/UX + AI Agent Assist
- [ ] CSS texture streaming (WebGL assist)
- [ ] Conversational agent to guide prosecutor
- [ ] Command-to-action mapping for UI updates
- [ ] Reactivity engine for time-sensitive decisions

---

### üöÄ Phase 7: Simulation + Precedent Engine
- [ ] Create hypothetical trial simulations
- [ ] Integrate real-world data, all 50 states, avaliable with download button? for accuracy qlra training using enhanced rag.
- [ ] Embedding prior outcomes for strategy
- [ ] Legal precedent graph queries (via Neo4j)
- [ ] Outcome projection context, create_entities 

/routes/api/ai/query/+server.ts(54,26): error TS2339: Property 'errors' does not exist on type 'ZodError<unknown>'.
src/routes/api/ai/search/+server.ts(65,26): error TS2339: Property 'errors' does not exist on type 'ZodError<unknown>'.
src/routes/api/auth/login/+server.ts(7,10): error TS2305: Module '"$lib/server/auth"' has no exported member 'lucia'.
src/routes/api/autocomplete/+server.ts(163,29): error TS2339: Property 'errors' does not exist on type 'ZodError<unknown>'.
src/routes/api/evidence-enhancement/+server.ts(191,29): error TS2339: Property 'errors' does not exist on type 'ZodError<unknown>'.
src/routes/api/evidence/save-node/+server.ts(161,26): error TS2339: Property 'errors' does not exist on type 'ZodError<unknown>'.
src/routes/api/evidence/save-node/+server.ts(208,26): error TS2339: Property 'errors' does not exist on type 'ZodError<unknown>'.
src/routes/api/evidence/upload/+server.ts(343,11): error TS2741: Property 'entities' is missing in type '{ summary: any; keyPoints: any; categories: any; confidence: any; processingTime: number; model: string; }' but required in type '{ keyPoints: string[]; entities: { name: string; type: string; confidence: number; }[]; categories: string[]; confidence: number; summary?: string; sentiment?: { score: number; label: "positive" | "negative" | "neutral"; }; 
processingTime?: number; model?: string; embedding?: number[]; }'.
src/routes/api/evidence/upload/+server.ts(353,11): error TS2741: Property 'entities' is missing in type '{ summary: string; keyPoints: undefined[]; categories: undefined[]; confidence: number; processingTime: number; model: string; }' but required in type '{ keyPoints: string[]; entities: { name: string; 
type: string; confidence: number; }[]; categories: string[]; confidence: number; summary?: string; sentiment?: { score: number; label: "positive" | "negative" | "neutral"; }; processingTime?: number; model?: string; embedding?: number[]; }'.
src/routes/api/indexing/start/+server.ts(3,19): error TS2307: Cannot find module 'axios' or its corresponding type declarations.
src/routes/api/log/+server.ts(2,26): error TS2307: Cannot find module '../../../../lib/server/queues/logQueue' or its corresponding type declarations.   
src/routes/api/simd/+server.ts(22,59): error TS2339: Property 'errors' does not exist on type 'ZodError<{ data: any; operation: "cache" | "parse" | "benchmark"; cache_key?: string; iterations?: number; }>'.
src/routes/api/vector/+server.ts(19,15): error TS2554: Expected 2-3 arguments, but got 1.
src/routes/api/vector/+server.ts(117,69): error TS2339: Property 'errors' does not exist on type 'ZodError<unknown>'.
src/routes/evidence/+page.server.ts(22,15): error TS2554: Expected 2-3 arguments, but got 1.
src/routes/evidence/+page.server.ts(91,51): error TS2345: Argument of type 'ZodObject<{ id: ZodOptional<ZodString>; caseId: ZodString; title: ZodString; 
description: ZodOptional<ZodString>; ... 5 more ...; metadata: ZodOptional<...>; }, $strip>' is not assignable to parameter of type 'ZodObjectType'.     
  Type 'ZodObject<{ id: ZodOptional<ZodString>; caseId: ZodString; title: ZodString; description: ZodOptional<ZodString>; ... 5 more ...; metadata: ZodOptional<...>; }, $strip>' is missing the following properties from type 'ZodType<Record<string, unknown>, ZodTypeDef, Record<string, unknown>>': _type, _parse, _getType, _getOrReturnCtx, and 7 more.
src/routes/evidence/upload/+page.server.ts(18,40): error TS2345: Argument of type 'ZodObject<{ title: ZodString; description: ZodOptional<ZodString>; type: ZodEnum<{ image: "image"; video: "video"; audio: "audio"; document: "document"; digital: "digital"; physical: "physical"; }>; ... 4 more ...; aiAnalysis: ZodDefault<...>; }, $strip>' is not assignable to parameter of type 'ZodObjectType'.
  Type 'ZodObject<{ title: ZodString; description: ZodOptional<ZodString>; type: ZodEnum<{ image: "image"; video: "video"; audio: "audio"; document: "document"; digital: "digital"; physical: "physical"; }>; ... 4 more ...; aiAnalysis: ZodDefault<...>; }, $strip>' is missing the following properties from type 'ZodType<Record<string, unknown>, ZodTypeDef, Record<string, unknown>>': _type, _parse, _getType, _getOrReturnCtx, and 7 more.
src/routes/evidence/upload/+page.server.ts(25,52): error TS2345: Argument of type 'ZodObject<{ title: ZodString; description: ZodOptional<ZodString>; type: ZodEnum<{ image: "image"; video: "video"; audio: "audio"; document: "document"; digital: "digital"; physical: "physical"; }>; ... 4 more ...; aiAnalysis: ZodDefault<...>; }, $strip>' is not assignable to parameter of type 'ZodObjectType'.
  Type 'ZodObject<{ title: ZodString; description: ZodOptional<ZodString>; type: ZodEnum<{ image: "image"; video: "video"; audio: "audio"; document: "document"; digital: "digital"; physical: "physical"; }>; ... 4 more ...; aiAnalysis: ZodDefault<...>; }, $strip>' is missing the following properties from type 'ZodType<Record<string, unknown>, ZodTypeDef, Record<string, unknown>>': _type, _parse, _getType, _getOrReturnCtx, and 7 more.
src/routes/evidence/upload/+page.server.ts(43,58): error TS2345: Argument of type 'unknown' is not assignable to parameter of type 'string'.
src/routes/evidence/upload/+page.server.ts(61,9): error TS2769: No overload matches this call.
  Overload 2 of 2, '(values: { title: string | SQL<unknown> | Placeholder<string, any>; evidenceType: string | SQL<unknown> | Placeholder<string, any>; summary?: string | SQL<unknown> | Placeholder<...>; ... 25 more ...; updatedAt?: Date | ... 1 more ... | Placeholder<...>; }[]): PgInsertBase<...>', gave 
the following error.
    Object literal may only specify known properties, and 'caseId' does not exist in type '{ title: string | SQL<unknown> | Placeholder<string, any>; evidenceType: string | SQL<unknown> | Placeholder<string, any>; summary?: string | SQL<unknown> | Placeholder<...>; ... 25 more ...; updatedAt?: Date | ... 
1 more ... | Placeholder<...>; }[]'.
src/routes/login/+page.server.ts(2,10): error TS2305: Module '"$lib/server/auth"' has no exported member 'lucia'.
src/routes/login/+page.server.ts(16,40): error TS2345: Argument of type 'ZodObject<{ email: ZodString; password: ZodString; }, $strip>' is not assignable to parameter of type 'ZodObjectType'.
  Type 'ZodObject<{ email: ZodString; password: ZodString; }, $strip>' is missing the following properties from type 'ZodType<Record<string, unknown>, ZodTypeDef, Record<string, unknown>>': _type, _parse, _getType, _getOrReturnCtx, and 7 more.
src/routes/login/+page.server.ts(22,51): error TS2345: Argument of type 'ZodObject<{ email: ZodString; password: ZodString; }, $strip>' is not assignable to parameter of type 'ZodObjectType'.
  Type 'ZodObject<{ email: ZodString; password: ZodString; }, $strip>' is missing the following properties from type 'ZodType<Record<string, unknown>, ZodTypeDef, Record<string, unknown>>': _type, _parse, _getType, _getOrReturnCtx, and 7 more.
src/routes/login/+page.server.ts(26,14): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "email"; tableName: "users"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; 
notNull: true; hasDefault: false; isPrimaryKey: false; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, { ...; }>, right: string | SQLWrapper): SQL<...>', gave the following error.
    Argument of type 'unknown' is not assignable to parameter of type 'string | SQLWrapper'.
  Overload 2 of 3, '(left: Aliased<unknown>, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "email"; tableName: "users"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: false; isPrimaryKey: false; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, { ...; }>' is not assignable to param      Type 'PgColumn<{ name: "email"; tableName: "users"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hassDefault: false; isPrimaryKey: false; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, { ...; }>' is missing the following properties forom type 'Aliased<unknown>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "email"; tableName: "users"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull:: true; hasDefault: false; isPrimaryKey: false; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, { ...; }>' is not assignable to parameeter of type 'never'.
src/routes/login/+page.server.ts(33,7): error TS2345: Argument of type 'unknown' is not assignable to parameter of type 'string | Uint8Array<ArrayBufferLikee>'.
‚ùå Check failed: Command failed with code 1:
PS C:\Users\james\Desktop\deeds-web\deeds-web-app\sveltekit-frontend> Set-Location "c:\Users\james\Desktop\deeds-web\deeds-web-app\sveltekit-frontend"; npm  install axios
npm error code ERESOLVE
npm error ERESOLVE could not resolve
npm error
npm error While resolving: @ai-sdk/openai@1.3.23
npm error Found: zod@4.0.15
npm error node_modules/zod
npm error   zod@"^4.0.15" from the root project
npm error
npm error Could not resolve dependency:
npm error peer zod@"^3.0.0" from @ai-sdk/openai@1.3.23
npm error node_modules/@ai-sdk/openai
npm error   @ai-sdk/openai@"^1.3.23" from the root project
npm error
npm error Conflicting peer dependency: zod@3.25.76
npm error node_modules/zod
npm error   peer zod@"^3.0.0" from @ai-sdk/openai@1.3.23
npm error   node_modules/@ai-sdk/openai
npm error     @ai-sdk/openai@"^1.3.23" from the root project
npm error
npm error Fix the upstream dependency conflict, or retry
npm error this command with --force or --legacy-peer-deps
npm error to accept an incorrect (and potentially broken) dependency resolution.
npm error
npm error
npm error For a full report see:
npm error C:\Users\james\AppData\Local\npm-cache\_logs\2025-08-07T06_33_32_542Z-eresolve-report.txt
npm error A complete log of this run can be found in: C:\Users\james\AppData\Local\npm-cache\_logs\2025-08-07T06_33_32_542Z-debug-0.log

‚öôÔ∏è VS Code GPU UI Boost (optional)

You can optimize VS Code itself by editing settings.json:
json
{

¬† "terminal.integrated.gpuAcceleration": "on",

¬† "window.titleBarStyle": "custom",

¬† "editor.experimental.useCustomScrollbars": true

}

And launch VS Code with the Electron GPU debugger:

bash
code --enable-gpu-rasterization --disable-software-rasterizer
Final Suggestion: Fork Claude-GPU Agent Wrapper in Go
If you're serious about rewriting Claude agent handlers in Go for speed:
Wrap your Claude JSON calls in Go
Use CUDA for: SimdJSON parsing. Vector similarity with cuBLAS
Use gRPC between your Go service and the Node/Svelte frontend
